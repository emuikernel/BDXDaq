.TH SLIPLOGIN 8 "23 Sep 1992"
.SH NAME
sliplogin \- attach a serial line network interface
.SH SYNOPSIS
.B sliplogin
[
.I loginname
]
.SH DESCRIPTION
.B sliplogin
is used to turn the terminal line on standard input into
a Serial Line IP (SLIP) link to a remote host.  To do this, the program
searches the file
.I /etc/slip.hosts
for an entry matching
.I loginname
(which defaults to the current login name if omitted and is limited
by Unix to 8 characters).
If a matching entry is found, the line is configured appropriately
for slip (8-bit transparent i/o) and converted to SLIP line
discipline.  Then a shell script is invoked to initialize the slip
interface with the appropriate local and remote IP address,
netmask, etc.
.PP
The usual initialization script is
.I /etc/slip.login
but, if particular hosts need special initialization, the file
.I /etc/slip.login.[loginname]
will be executed instead if it exists.
The script is invoked with the parameters
.TP
.I slipunit
The unit number of the slip interface assigned to this line.  E.g.,
.B 0
for
.BR sl0 .
.TP
.I speed
The speed of the line.
.TP
.I args
The arguments from the
.I /etc/slip.hosts
entry, in order starting with
.IR loginname .
.PP
Only the super-user may attach a network interface.  The interface is
automatically detached when the other end hangs up or the
.B sliplogin
process dies.  If the kernel slip
module has been configured for it, all routes through that interface will
also disappear at the same time.  If there is other processing a site
would like done on hangup, the file
.I /etc/slip.logout
or
.I /etc/slip.logout.[loginname]
is executed if it exists.  It is given the same arguments as the login script.
.SS Format of \fI/etc/slip.hosts\fP
Comments (lines starting with a `#') and blank lines are ignored.
Other lines must start with a
.I loginname
but the remaining arguments can be whatever is appropriate for the
.I slip.login
file that will be executed for that name.
Arguments are separated by white space and follow normal
.BR sh (1)
quoting conventions (however,
.I loginname
cannot be quoted).
Usually, lines have the form
.RS
.I
loginname local-address remote-address netmask opt-args
.RE
where
.I local-address
and
.I remote-address
are the IP host names or addresses of the local and remote ends of the
slip line and
.I netmask
is the appropriate IP netmask.  These arguments are passed
directly to
.BR ifconfig (8).
.I Opt-args
are optional arguments used to configure the line.
Both
.I proxy-arp-addr
and 
.I netroute
take an additional argument.
With the distributed version of
.BR slip.login ,
possible values are
.RS
.TP \w'proxy-arp-addr'+2m
.B normal
RFC1055 ``standard'' slip.
.TP
.B compress
slip with RFC1144 header compression.
.TP
.B auto-comp
standard slip but ``auto-enable'' header compression if a compressed
packet arrives.
.TP
.B proxy-arp-addr
install a published arp entry for the host specified by next argument.
This causes the local host to answer arp requests for the specified host.
.TP
.B proxy-arp
install a published arp entry for 
.I remote-address.
This is shorthand for
.I proxy-arp-addr remote-address.
.TP
.B netroute
install a route via the slip link interface to the network specified
by the next argument.
.TP
.B default
install a default route via the slip link interface.
.TP
.B no-hwfc
turn off hardware flow control (which is set by default).
.TP
.B no-icmp
drop icmp packets, for instance, to prevent a third party from saturating
your slip link with ping packets.
.RE
.SH EXAMPLE
The normal use of
.B sliplogin
is to create a
.I /etc/passwd
entry for each legal, remote slip site with
.B sliplogin
as the shell for that entry.  E.g.,
.RS
Sfoo:ikhuy6:2010:1:foo slip line:/bin:/etc/sliplogin
.RE
(Our convention is to name the account used by remote host
.I hostname
as
.IR Shostname .)
Then an entry is added to
.B slip.hosts
that looks like:
.RS
Sfoo	`hostname`	foo	netmask
.RE
where
.I `hostname`
will be evaluated by
.B sh
to the local host name and
.I netmask
is the local host IP netmask.
.PP
Note that
.B sliplogin
must be setuid to root and, while not a security hole, moral defectives
can use it to place terminal lines in an unusable state and/or deny
access to legitimate users of a remote slip line.  To prevent this,
a site can create a group, say
.IR slip ,
that only the slip login accounts are put in then make sure that
.I /etc/sliplogin
is in group
.I slip
and mode 4550 (setuid root, only group
.I slip
can execute binary).
.SH "DIAGNOSTICS"
.B sliplogin
logs various information to the system log daemon,
.BR syslogd (8),
with a facility code of
.BR daemon.
.PP
If sliplogin is compiled with 
.BR DEBUG
defined, it will leave behind the file
.I /tmp/sliplogin.*
if either the
.I /etc/slip.login
or
.I /etc/slip.logout
scripts exit with an abnormal status. 
.SH "SEE ALSO"
.BR slattach (8),
.BR syslogd (8)
