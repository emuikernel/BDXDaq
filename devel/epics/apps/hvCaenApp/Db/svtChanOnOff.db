#! Generated by VisualDCT v2.6

record(bo, "SVT:$(LVL):switch") {
}

record(bo, "SVT:bias:$(LVL):switch") {
  field(OUT, "SVT:$(LVL):bias_trig.VAL PP")
}

record(calcout, "svt:$(LVL):off") {
  field(SCAN, "Passive")
  field(CALC, "A#1?1:0")
  field(INPA, "SVT:$(LVL):switch.VAL CPP")
  field(OUT, "SVT:$(LVL):dvdd_trig PP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
}

record(calcout, "svt:$(LVL):on") {
  field(SCAN, "Passive")
  field(CALC, "A#0?1:0")
  field(INPA, "SVT:$(LVL):switch.VAL CPP")
  field(OUT, "SVT:$(LVL):bias_trig.VAL PP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
}

# expand("/home/hovanes/HPS/VDCT/svtChanelLogic.vdb", svtChanelLogicOff)

# expand("/home/hovanes/HPS/VDCT/svt_channel.vdb", SVT:bias:$(LVL):seq)

record(bi, "SVT:bias:$(LVL):seq:trig") {
  field(DESC, "Trigger the cjhange of the voltage for this level")
  field(SCAN, "Passive")
  field(INP, "SVT:$(LVL):bias_trig CPP")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(calcout, "SVT:bias:$(LVL):seq:on_calc") {
  field(SCAN, "Passive")
  field(CALC, "A")
  field(INPA, "SVT:bias:$(LVL):seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DESC, "Decide if the channel should be turned on")
}

record(calcout, "SVT:bias:$(LVL):seq:depon_on") {
  field(SCAN, "Passive")
  field(CALC, "A#0?1:0")
  field(OUT, "SVT:$(LVL):v125_trig.VAL PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:bias:$(LVL):seq:on_calc.VAL CPP")
  field(DESC, "Turn the ON-dependency voltage channel ON")
}

record(calcout, "SVT:bias:$(LVL):seq:on") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(OUT, "SVT:bias:$(LVL):switch PP")
  field(INPB, "SVT:bias:$(LVL):seq:depon_is_on.VAL CPP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:bias:$(LVL):seq:on_calc.VAL CPP")
  field(DESC, "Turn the corresponding voltage channel ON")
}

record(calc, "SVT:bias:$(LVL):seq:depon_is_on") {
  field(SCAN, "Passive")
  field(CALC, "A>B?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:volt_val.VAL CPP")
  field(INPB, "1")
  field(DESC, "Check if ON-dependency channel is ON")
}

record(calcout, "SVT:bias:$(LVL):seq:off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:bias:$(LVL):seq:off_calc.VAL CPP")
  field(OUT, "SVT:bias:$(LVL):switch PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Turn the corresponding channel OFF")
  field(INPB, "SVT:bias:$(LVL):seq:depoff_is_off CPP")
}

record(calc, "SVT:bias:$(LVL):seq:is_off") {
  field(SCAN, "Passive")
  field(CALC, "(A<B)&&(C#1)?1:0")
  field(INPA, "SVT:bias:$(LVL):volt_val.VAL CPP NMS")
  field(INPB, "1 CPP")
  field(INPC, "SVT:bias:$(LVL):stat CPP NMS")
}

record(calcout, "SVT:bias:$(LVL):seq:depoff_off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:bias:$(LVL):seq:is_off.VAL CPP NMS")
  field(OUT, "SVT:$(LVL):dummySwitch PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "SVT:bias:$(LVL):seq:off_calc.VAL CPP NMS")
  field(DESC, "Turn the OFF-dependency channel OFF")
}

record(calcout, "SVT:bias:$(LVL):seq:off_calc") {
  field(SCAN, "Passive")
  field(CALC, "!A")
  field(INPA, "SVT:bias:$(LVL):seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Decide if the channel sohuld be turned off")
}

record(calcout, "SVT:bias:$(LVL):seq:seq_intlck") {
  field(DESC, "Voltage Interlock")
  field(CALC, "(A#1)&&(C#1)?1:0")
  field(INPA, "SVT:bias:$(LVL):seq:is_off.VAL CPP NMS")
  field(INPC, "SVT:bias:$(LVL):seq:depon_is_on.VAL CPP NMS")
  field(OUT, "SVT:bias:$(LVL):seq:trig.VAL PP")
  field(OOPT, "When Non-zero")
  field(SCAN, "Passive")
  field(DOPT, "Use OCAL")
}

record(calc, "SVT:bias:$(LVL):seq:depoff_is_off") {
  field(SCAN, "Passive")
  field(CALC, "A<B?1:0")
  field(INPA, "0 CPP")
  field(INPB, "1 CPP")
  field(DESC, "Check if OFF-dependency channel is OFF")
}

# end(SVT:bias:$(LVL):seq)

# expand("/home/hovanes/HPS/VDCT/svt_channel.vdb", SVT:lv:$(LVL):avdd:seq)

record(bi, "SVT:lv:hyb:$(LVL):avdd:seq:trig") {
  field(DESC, "Trigger the cjhange of the voltage for this level")
  field(SCAN, "Passive")
  field(INP, "SVT:$(LVL):avdd_trig.VAL CPP")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:on_calc") {
  field(SCAN, "Passive")
  field(CALC, "A")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DESC, "Decide if the channel should be turned on")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:depon_on") {
  field(SCAN, "Passive")
  field(CALC, "A#0?1:0")
  field(OUT, "SVT:$(LVL):dvdd_trig PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:on_calc.VAL CPP")
  field(DESC, "Turn the ON-dependency voltage channel ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:on") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(OUT, "SVT:lv:hyb:$(LVL):avdd:switch PP")
  field(INPB, "SVT:lv:hyb:$(LVL):avdd:seq:depon_is_on.VAL CPP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:on_calc.VAL CPP")
  field(DESC, "Turn the corresponding voltage channel ON")
}

record(calc, "SVT:lv:hyb:$(LVL):avdd:seq:depon_is_on") {
  field(SCAN, "Passive")
  field(CALC, "A>B?1:0")
  field(INPA, "SVT:lv:$(LVL):dvdd:volt_val.VAL CPP")
  field(INPB, "1")
  field(DESC, "Check if ON-dependency channel is ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:off_calc.VAL CPP")
  field(OUT, "SVT:lv:hyb:$(LVL):avdd:switch PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Turn the corresponding channel OFF")
  field(INPB, "SVT:lv:hyb:$(LVL):avdd:seq:depoff_is_off CPP")
}

record(calc, "SVT:lv:hyb:$(LVL):avdd:seq:is_off") {
  field(SCAN, "Passive")
  field(CALC, "(A<B)&&(C#1)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:volt_val.VAL CPP NMS")
  field(INPB, "1 CPP")
  field(INPC, "SVT:lv:$(LVL):avdd:stat CPP NMS")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:depoff_off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:is_off.VAL CPP NMS")
  field(OUT, "SVT:$(LVL):v125_trig.VAL PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "SVT:lv:hyb:$(LVL):avdd:seq:off_calc.VAL CPP NMS")
  field(DESC, "Turn the OFF-dependency channel OFF")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:off_calc") {
  field(SCAN, "Passive")
  field(CALC, "!A")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Decide if the channel sohuld be turned off")
}

record(calcout, "SVT:lv:hyb:$(LVL):avdd:seq:seq_intlck") {
  field(DESC, "Voltage Interlock")
  field(CALC, "(A#1)&&(C#1)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:seq:is_off.VAL CPP NMS")
  field(INPC, "SVT:lv:hyb:$(LVL):avdd:seq:depon_is_on.VAL CPP NMS")
  field(OUT, "SVT:lv:hyb:$(LVL):avdd:seq:trig.VAL PP")
  field(OOPT, "When Non-zero")
  field(SCAN, "Passive")
  field(DOPT, "Use OCAL")
}

record(calc, "SVT:lv:hyb:$(LVL):avdd:seq:depoff_is_off") {
  field(SCAN, "Passive")
  field(CALC, "A<B?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:volt_val.VAL CPP")
  field(INPB, "1 CPP")
  field(DESC, "Check if OFF-dependency channel is OFF")
}

# end(SVT:lv:$(LVL):avdd:seq)

# expand("/home/hovanes/HPS/VDCT/svt_channel.vdb", SVT:lv:$(LVL):v125:seq)

record(bi, "SVT:lv:hyb:$(LVL):v125:seq:trig") {
  field(DESC, "Trigger the cjhange of the voltage for this level")
  field(SCAN, "Passive")
  field(INP, "SVT:$(LVL):v125_trig.VAL CPP")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:on_calc") {
  field(SCAN, "Passive")
  field(CALC, "A")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DESC, "Decide if the channel should be turned on")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:depon_on") {
  field(SCAN, "Passive")
  field(CALC, "A#0?1:0")
  field(OUT, "SVT:$(LVL):avdd_trig.VAL PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:on_calc.VAL CPP")
  field(DESC, "Turn the ON-dependency voltage channel ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:on") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(OUT, "SVT:lv:hyb:$(LVL):v125:switch PP")
  field(INPB, "SVT:lv:hyb:$(LVL):v125:seq:depon_is_on.VAL CPP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:on_calc.VAL CPP")
  field(DESC, "Turn the corresponding voltage channel ON")
}

record(calc, "SVT:lv:hyb:$(LVL):v125:seq:depon_is_on") {
  field(SCAN, "Passive")
  field(CALC, "A>B?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:volt_val.VAL CPP")
  field(INPB, "1")
  field(DESC, "Check if ON-dependency channel is ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:off_calc.VAL CPP")
  field(OUT, "SVT:lv:hyb:$(LVL):v125:switch PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Turn the corresponding channel OFF")
  field(INPB, "SVT:lv:hyb:$(LVL):v125:seq:depoff_is_off CPP")
}

record(calc, "SVT:lv:hyb:$(LVL):v125:seq:is_off") {
  field(SCAN, "Passive")
  field(CALC, "(A<B)&&(C#1)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:volt_val.VAL CPP NMS")
  field(INPB, "1 CPP")
  field(INPC, "SVT:lv:$(LVL):v125:stat CPP NMS")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:depoff_off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:is_off.VAL CPP NMS")
  field(OUT, "SVT:$(LVL):bias_trig PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "SVT:lv:hyb:$(LVL):v125:seq:off_calc.VAL CPP NMS")
  field(DESC, "Turn the OFF-dependency channel OFF")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:off_calc") {
  field(SCAN, "Passive")
  field(CALC, "!A")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Decide if the channel sohuld be turned off")
}

record(calcout, "SVT:lv:hyb:$(LVL):v125:seq:seq_intlck") {
  field(DESC, "Voltage Interlock")
  field(CALC, "(A#1)&&(C#1)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):v125:seq:is_off.VAL CPP NMS")
  field(INPC, "SVT:lv:hyb:$(LVL):v125:seq:depon_is_on.VAL CPP NMS")
  field(OUT, "SVT:lv:hyb:$(LVL):v125:seq:trig.VAL PP")
  field(OOPT, "When Non-zero")
  field(SCAN, "Passive")
  field(DOPT, "Use OCAL")
}

record(calc, "SVT:lv:hyb:$(LVL):v125:seq:depoff_is_off") {
  field(SCAN, "Passive")
  field(CALC, "A<B?1:0")
  field(INPA, "SVT:bias:$(LVL):volt_val.VAL CPP")
  field(INPB, "1 CPP")
  field(DESC, "Check if OFF-dependency channel is OFF")
}

# end(SVT:lv:$(LVL):v125:seq)

# expand("/home/hovanes/HPS/VDCT/svt_channel.vdb", SVT:lv:$(LVL):dvdd:seq)

record(bi, "SVT:lv:hyb:$(LVL):dvdd:seq:trig") {
  field(DESC, "Trigger the cjhange of the voltage for this level")
  field(SCAN, "Passive")
  field(INP, "SVT:$(LVL):dvdd_trig CPP")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:on_calc") {
  field(SCAN, "Passive")
  field(CALC, "A")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DESC, "Decide if the channel should be turned on")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:depon_on") {
  field(SCAN, "Passive")
  field(CALC, "A#0?1:0")
  field(OUT, "SVT:$(LVL):dummySwitch.VAL PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:on_calc.VAL CPP")
  field(DESC, "Turn the ON-dependency voltage channel ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:on") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(OUT, "SVT:lv:hyb:$(LVL):dvdd:switch PP")
  field(INPB, "SVT:lv:hyb:$(LVL):dvdd:seq:depon_is_on.VAL CPP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "1")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:on_calc.VAL CPP")
  field(DESC, "Turn the corresponding voltage channel ON")
}

record(calc, "SVT:lv:hyb:$(LVL):dvdd:seq:depon_is_on") {
  field(SCAN, "Passive")
  field(CALC, "A>B?1:0")
  field(INPA, "1000 CPP")
  field(INPB, "1")
  field(DESC, "Check if ON-dependency channel is ON")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:off_calc.VAL CPP")
  field(OUT, "SVT:lv:hyb:$(LVL):dvdd:switch PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Turn the corresponding channel OFF")
  field(INPB, "SVT:lv:hyb:$(LVL):dvdd:seq:depoff_is_off CPP")
}

record(calc, "SVT:lv:hyb:$(LVL):dvdd:seq:is_off") {
  field(SCAN, "Passive")
  field(CALC, "(A<B)&&(C#1)?1:0")
  field(INPA, "SVT:lv:$(LVL):dvdd:volt_val.VAL CPP NMS")
  field(INPB, "1 CPP")
  field(INPC, "SVT:lv:$(LVL):dvdd:stat CPP NMS")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:depoff_off") {
  field(SCAN, "Passive")
  field(CALC, "(A#0)&&(B#0)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:is_off.VAL CPP NMS")
  field(OUT, "SVT:$(LVL):avdd_trig.VAL PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "SVT:lv:hyb:$(LVL):dvdd:seq:off_calc.VAL CPP NMS")
  field(DESC, "Turn the OFF-dependency channel OFF")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:off_calc") {
  field(SCAN, "Passive")
  field(CALC, "!A")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:trig.VAL CPP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(DESC, "Decide if the channel sohuld be turned off")
}

record(calcout, "SVT:lv:hyb:$(LVL):dvdd:seq:seq_intlck") {
  field(DESC, "Voltage Interlock")
  field(CALC, "(A#1)&&(C#1)?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):dvdd:seq:is_off.VAL CPP NMS")
  field(INPC, "SVT:lv:hyb:$(LVL):dvdd:seq:depon_is_on.VAL CPP NMS")
  field(OUT, "SVT:lv:hyb:$(LVL):dvdd:seq:trig.VAL PP")
  field(OOPT, "When Non-zero")
  field(SCAN, "Passive")
  field(DOPT, "Use OCAL")
}

record(calc, "SVT:lv:hyb:$(LVL):dvdd:seq:depoff_is_off") {
  field(SCAN, "Passive")
  field(CALC, "A<B?1:0")
  field(INPA, "SVT:lv:hyb:$(LVL):avdd:volt_val.VAL CPP")
  field(INPB, "1 CPP")
  field(DESC, "Check if OFF-dependency channel is OFF")
}

# end(SVT:lv:$(LVL):dvdd:seq)

record(bi, "SVT:$(LVL):dvdd_trig") {
}

record(bo, "SVT:$(LVL):dummySwitch") {
}

record(bi, "SVT:$(LVL):v125_trig") {
}

record(bi, "SVT:$(LVL):avdd_trig") {
}

record(bi, "SVT:$(LVL):bias_trig") {
}

record(ai, "SVT:bias:$(LVL):volt_val") {
  field(INP, "SVT:bias:$(LVL):v_sens CPP")
}

record(ai, "SVT:lv:hyb:$(LVL):v125:volt_val") {
  field(INP, "SVT:lv:hyb:$(LVL):v125:v_sens CPP")
}

record(ai, "SVT:lv:$(LVL):dvdd:volt_val") {
  field(INP, "SVT:lv:$(LVL):dvdd:v_sens CPP")
}

record(ai, "SVT:lv:hyb:$(LVL):avdd:volt_val") {
  field(INP, "SVT:lv:hyb:(LVL):avdd:v_sens CPP")
}

# end(svtChanelLogicOff)
