h01268
s 00001/00001/00073
d D 1.14 11/04/19 14:14:33 boiarino 14 13
c *** empty log message ***
e
s 00001/00001/00073
d D 1.13 11/01/24 16:48:14 boiarino 13 12
c *** empty log message ***
e
s 00013/00014/00061
d D 1.12 11/01/24 14:56:41 boiarino 12 11
c *** empty log message ***
e
s 00019/00002/00056
d D 1.11 10/09/29 14:43:36 boiarino 11 10
c *** empty log message ***
e
s 00002/00012/00056
d D 1.10 10/05/07 10:37:29 sergpozd 10 9
c added: taskSpawn "L2_RESET",248,0,100000,l2_status_dead_reset
c 
e
s 00001/00000/00067
d D 1.9 10/05/05 13:23:14 sergpozd 9 8
c added l2_flex_init()
c 
e
s 00001/00001/00066
d D 1.8 10/03/08 15:07:14 boiarino 8 7
c *** empty log message ***
e
s 00003/00003/00064
d D 1.7 10/03/08 15:06:58 boiarino 7 6
c *** empty log message ***
e
s 00004/00000/00063
d D 1.6 09/10/13 20:20:41 boiarino 6 5
c *** empty log message ***
e
s 00001/00000/00062
d D 1.5 09/10/13 19:09:03 boiarino 5 4
c *** empty log message ***
e
s 00008/00000/00054
d D 1.4 09/01/12 22:25:13 boiarino 4 3
c *** empty log message ***
e
s 00005/00005/00049
d D 1.3 08/11/17 11:43:34 boiarino 3 2
c comment out v288 stuff
c 
e
s 00003/00014/00051
d D 1.2 08/11/17 11:24:14 boiarino 2 1
c *** empty log message ***
e
s 00065/00000/00000
d D 1.1 06/05/26 10:30:34 boiarino 1 0
c date and time created 06/05/26 10:30:34 by boiarino
e
u
U
f e 0
t
T
I 1
#
#  Bootscript for dccntrl (DC HV control on SF)
#

# adds router 
cd "$CODA/VXWORKS_ppc/bootscripts"
< routeadd_mot.boot

#  initializations for all rocs
cd "$CODA/VXWORKS_ppc/bootscripts"
< all.boot

D 2



E 2
#  standard CLAS libraries
cd "$CODA/VXWORKS_ppc/obj"
ld < all_rocs.o
I 5
D 11
ld < utload.o
E 11
I 11
###ld < utload.o
E 11
E 5

#set env variables
cd "$CODA/VXWORKS_ppc/bootscripts"
< vxbootenv.boot




D 2
#CAMAC stuff ( do not need it here ????? )

# Load libraries
cd "$CODA/VXWORKS_ppc/lib"
ld < libcamac.so
cd "$CODA/VXWORKS_ppc/bin"
ld < caRpc_svc
ld < bcnaf


E 2
I 2
D 3
#old stuff
E 2
cd "$CODA/VXWORKS_ppc/obj"
ld < v288com_ppc.o
ld < switch_ppc.o
D 2

E 2
sysClkRateSet(100)
E 3
I 3
###old stuff
##cd "$CODA/VXWORKS_ppc/obj"
##ld < v288com_ppc.o
##ld < switch_ppc.o
##sysClkRateSet(100)
E 3


I 2

I 4
D 12
###moved from boot_l2cntrl, check needed
### load and init level2 control
E 12
I 12
####moved from boot_l2cntrl, check needed
#### load and init level2 control
E 12
D 8
#cd "$CODA/VXWORKS_ppc/obj"
E 8
I 8
cd "$CODA/VXWORKS_ppc/obj"
E 8
D 7
#ld < level2_ppc.o
#ld < sis3801.o
#l2_init()
E 7
I 7
ld < level2_ppc.o
ld < sis3801.o
l2_init()
I 9
l2_flex_init()
E 9
E 7
E 4
D 12

E 12
I 10
D 13
taskSpawn "L2_RESET",248,0,100000,l2_status_dead_reset
E 13
I 13
D 14
###taskSpawn "L2_RESET",248,0,100000,l2_status_dead_reset
E 14
I 14
taskSpawn "L2_RESET",248,0,100000,l2_status_dead_reset
E 14
E 13
E 10
I 4


I 11


D 12
#CAMAC stuff
# Load libraries
cd "$CODA/VXWORKS_ppc/lib"
ld < libcamac.so
cd "$CODA/VXWORKS_ppc/bin"
ld < caRpc_svc
ld < bcnaf
# init one camac branch
ccinit(0)
## spawn the CAMAC remote server
taskSpawn "caServ",110,spTaskOptions,20000,caSrvr_main
E 12
I 12
###CAMAC stuff
### Load libraries
##cd "$CODA/VXWORKS_ppc/lib"
##ld < libcamac.so
##cd "$CODA/VXWORKS_ppc/bin"
##ld < caRpc_svc
##ld < bcnaf
### init one camac branch
##ccinit(0)
#### spawn the CAMAC remote server
##taskSpawn "caServ",110,spTaskOptions,20000,caSrvr_main
E 12




E 11
E 4
E 2
# loading 'coda_roc' just to resolve references
cd "$CODA/VXWORKS_ppc/bin"
ld < coda_roc
ld < tcpServer.o

taskSpawn "TCP_SERVER",250,0,100000,tcpServer

I 10

E 10
cd "$CLON_PARMS/dchv/vme/"

shellPromptSet("dccntrl> ");
I 6

# set OR board mask for TPC busy
D 11
utsetmemory(0x39,0xee0000,4,0xffffffff)
E 11
I 11
###utsetmemory(0x39,0xee0000,4,0xffffffff)
E 11
D 10

E 6
#










E 10

E 1
