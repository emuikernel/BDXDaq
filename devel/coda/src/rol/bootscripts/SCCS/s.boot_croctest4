h01699
s 00002/00001/00108
d D 1.6 11/03/15 12:00:05 sergpozd 6 5
c *** empty log message ***
e
s 00012/00000/00097
d D 1.5 11/03/15 11:27:08 sergpozd 5 4
c *** empty log message ***
e
s 00007/00002/00090
d D 1.4 11/03/15 11:18:47 boiarino 4 3
c *** empty log message ***
e
s 00027/00028/00065
d D 1.3 07/05/08 09:30:34 sergpozd 3 2
c added load of v895 library
c 
e
s 00007/00000/00086
d D 1.2 07/03/19 09:26:56 boiarino 2 1
c add v288
c 
e
s 00086/00000/00000
d D 1.1 06/05/26 10:30:31 boiarino 1 0
c date and time created 06/05/26 10:30:31 by boiarino
e
u
U
f e 0
t
T
I 1
#
#  Bootscript for croctest4 (CAMAC control in Counting Room)
#

D 3
# adds router 
E 3
I 3

# adds router
E 3
cd "$CODA/VXWORKS_ppc/bootscripts"
< routeadd_mot.boot

D 3
#  initializations for all rocs
E 3
I 3
# initializations for all rocs
E 3
cd "$CODA/VXWORKS_ppc/bootscripts"
< all.boot


D 3


#  standard CLAS libraries
E 3
I 3
# standard CLAS libraries
E 3
cd "$CODA/VXWORKS_ppc/obj"
ld < all_rocs.o

D 3
#set env variables
E 3
I 3
# set env variables
E 3
cd "$CODA/VXWORKS_ppc/bootscripts"
< vxbootenv.boot



I 3
#############
# CAMAC stuff
#############
E 3

D 3
#CAMAC stuff

E 3
# Load libraries
cd "$CODA/VXWORKS_ppc/lib"
ld < libcamac.so
cd "$CODA/VXWORKS_ppc/bin"
ld < caRpc_svc
ld < bcnaf


D 3



E 3
D 4
#cd "$CODA/VXWORKS_ppc/obj"
E 4
I 4
cd "$CODA/VXWORKS_ppc/obj"
ld < v851.o
E 4
#ld < pTickTimer.o
#ld < gen7120.o
#ld < clockgen3660.o
#ld < pulserint.o
#ld < r_pulser.o


D 3


#
E 3
# init camac branch 0
ccinit(0)
# init camac branch 1
###ccinit(1)
## spawn the CAMAC remote server
taskSpawn "caServ",110,spTaskOptions,10000,caSrvr_main
D 3
#
E 3
I 3


E 3
gen7120initglob
D 6
gen7120setglobVar(2,16,"genRunning",0,0)
E 6
gen7120setglobVar(2,18,"genRunning",0,0)
I 6
gen7120setglobVar(0,16,"genRunning",0,0)
gen7120setglobVar(0,18,"genRunning",0,0)
E 6

D 3
#end of CAMAC stuff
E 3
I 3
# end of CAMAC stuff
####################
E 3


sysClkRateSet(100)


I 3

###############################
# v895 - CAEN VME Discriminator
###############################
cd "$CODA/VXWORKS_ppc/obj"
ld < v895.o

v895Init()

# end of v895
##############


I 5
##################################################
# dsc2 - TJNAF VME 16 Channel Discriminator/Scaler
##################################################
cd "$CODA/VXWORKS_ppc/obj"
ld < dsc2.o

dsc2Init()

# end of dsc2
##############


E 5
E 3
# loading 'coda_roc' just to resolve 'componentExecute' ...
cd "$CODA/VXWORKS_ppc/bin"
ld < coda_roc
ld < tcpServer.o

taskSpawn "TCP_SERVER",250,0,100000,tcpServer

D 3
#
E 3
I 3


E 3
I 2
########
# v288
########
cd "/usr/local/clas/devel/R3.14.8.2/EPICS/baseB/src/CAEN_HV/DriverOld/O.vxWorks-ppc604_long"
ld < v288.o
D 4
cd "/usr/local/clas/parms/dchv/epics"
E 4
I 4
ld < sy527.o
ld < sy527_test.o
###cd "/usr/local/clas/parms/dchv/epics"
E 4
D 3
#
E 2










E 3

I 4
v851Init(0xfbffd000,0)
v851ProgPulser(1000,0)
E 4
E 1
